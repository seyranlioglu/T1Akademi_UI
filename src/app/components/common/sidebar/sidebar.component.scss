$total-header-height: 140px; 
$sidebar-width: 260px;
$sidebar-collapsed-width: 70px;
$primary-color: #ff1949;

.sidebar-wrapper {
    width: $sidebar-width;
    height: calc(100vh - #{$total-header-height});
    background: #fff;
    border-right: 1px solid #eee;
    position: fixed;
    top: $total-header-height; 
    left: 0;
    z-index: 850; 
    display: flex;
    flex-direction: column;
    transition: width 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 2px 0 10px rgba(0,0,0,0.02);

    // TÜM LİSTE İŞARETÇİLERİNİ VE MARKERLARI SİLEN KRİTİK KOD
    ul, li {
        list-style: none !important;
        list-style-type: none !important;
        margin: 0;
        padding: 0;
        
        &::marker {
            content: none !important;
            display: none !important;
            color: transparent !important;
        }
    }

    &.collapsed {
        width: $sidebar-collapsed-width;
        .menu-label, .link-text, .arrow-icon, .sub-menu { display: none !important; }
        .sidebar-nav li a { justify-content: center; padding: 15px 0; i { margin-right: 0; min-width: auto; font-size: 22px; } }
    }

    .sidebar-header {
        height: 45px;
        display: flex; align-items: center; justify-content: flex-end; padding: 0 15px;
        .toggle-btn-container {
            cursor: pointer; background: #f8f9fa; border-radius: 6px; width: 30px; height: 30px;
            display: flex; align-items: center; justify-content: center; border: 1px solid #eee;
            &:hover { color: $primary-color; background: #fff; border-color: $primary-color; }
        }
    }

    .sidebar-body {
        flex: 1; overflow-y: auto; overflow-x: hidden;
        
        .sidebar-nav {
            .menu-label {
                font-size: 11px; font-weight: 700; text-transform: uppercase; color: #bbb;
                padding: 20px 25px 10px; letter-spacing: 1px;
            }

            .sidebar-divider { height: 1px; background: #f0f0f0; margin: 10px 20px; }

            li {
                a {
                    display: flex; align-items: center; padding: 12px 25px;
                    color: #444; text-decoration: none; cursor: pointer; transition: 0.2s;
                    i { font-size: 20px; min-width: 35px; color: #777; }
                    .link-text { font-size: 14px; font-weight: 500; white-space: nowrap; }
                    .arrow-icon { margin-left: auto; font-size: 18px; opacity: 0.6; }
                    &:hover, &.active { color: $primary-color; background: #fff5f7; i { color: $primary-color; } }
                }

                .category-root-link { padding-left: 25px; font-weight: 600; color: #333; }

                .sub-menu {
                    max-height: 0; overflow: hidden; transition: 0.3s ease-in-out; background: #fcfcfc;
                    &.show { max-height: 1000px; }
                    
                    li {
                        &::marker { display: none !important; content: "" !important; }
                        
                        a.sub-link { 
                            padding-left: 45px; // Sadece girinti ile hiyerarşi
                            padding-top: 8px; padding-bottom: 8px;
                            font-size: 13.5px; color: #666;
                            display: block; // Linkin tüm satırı kaplaması için
                            border-left: none !important;
                            &:hover { color: $primary-color; background: transparent; }
                            &.active { color: $primary-color; font-weight: 600; }
                        }
                    }
                }
            }
        }
    }
}

// Mobil UX
@media (max-width: 991px) {
    .sidebar-wrapper {
        top: 0; height: 100vh; width: 280px; z-index: 2000;
        transform: translateX(-100%); visibility: hidden;
        &:not(.collapsed) { transform: translateX(0); visibility: visible; }
        &.collapsed { width: 0; }
        .sidebar-header { height: 70px; padding: 20px 20px 0; justify-content: space-between; &::before { content: 'MENÜ'; font-weight: 800; } }
    }
}