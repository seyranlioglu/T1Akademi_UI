<div class="what-you-will-learn-wrapper card border-0 card h-100">
  <h3 class="py-4 px-5 mb-0">Hedef Öğrenciler</h3>
  <hr>

  <div class="card-body d-flex flex-column gap-4 p-5">
    <div class="d-flex flex-column gap-1">
      <div class="fw-medium">Öğrenciler kursunuzda ne öğrenecek?</div>
      <p>Öğrencilerin, kursunuzu tamamladıktan sonra başarabilecekleri öğrenim hedefileri veya sonuçları girmelisiniz.
      </p>
    </div>

    <div class="d-flex flex-column">
      <div *ngFor="let learningItem of whatYouWillLearnList;"
        class="align-items-center border-r d-flex justify-content-between px-1 py-2 what-you-will-learn-item">
        <ng-container *ngIf="!learningItem.isEditing">
          <div> {{learningItem.whatYouWillLearnTitle}}</div>
          <div class="actions align-items-center d-flex gap-1 ms-2">
            <i class="bx bx-pencil" (click)="learningItem.isEditing = !learningItem.isEditing"></i>
            <i class="bx bx-trash" (click)="deleteWhatYouWillLearn(learningItem.whatYouWillLearnId)"></i>
          </div>
        </ng-container>
        <ng-container *ngIf="learningItem.isEditing">
          <div  class="d-flex justify-content-between  align-items-center w-100">
            <div class="w-100">
              <input type="text" class="form-control" [(ngModel)]="learningItem.whatYouWillLearnTitle"
                placeholder="Örnek: Proje yöneticilerinin rollerini ve sorumluluklarını tanımlayın">
            </div>
      
            <div class="form-actions align-items-center d-flex gap-1 ms-2">
              <i class="bx bx-check" (click)="updateWhatYouWillLearn(learningItem)"></i>
              <i class="bx bx-x" (click)="learningItem.isEditing = !learningItem.isEditing"></i>
            </div>
          </div>
        </ng-container>
      </div>
    </div>


    <div *ngIf="isWhatYouWillLearnFormVisible" class="d-flex justify-content-between  align-items-center">
      <div class="w-100">
        <input type="text" class="form-control" [(ngModel)]="newWhatYouWillLearnItem"
          placeholder="Örnek: Proje yöneticilerinin rollerini ve sorumluluklarını tanımlayın">
      </div>

      <div class="form-actions align-items-center d-flex gap-1 ms-2">
        <i class="bx bx-check" (click)="addWhatYouWillLearn()"></i>
        <i class="bx bx-x" (click)="toggleWhatYouWillLearnForm()"></i>
      </div>
    </div>


    <button *ngIf="!isWhatYouWillLearnFormVisible" (click)="toggleWhatYouWillLearnForm()" class="btn btn-outline-dark"
      style="width: fit-content;">+ Yanıtınıza daha fazla bilgi ekleyin</button>

  </div>
</div>