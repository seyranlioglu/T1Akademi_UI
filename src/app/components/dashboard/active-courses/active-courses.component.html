<div class="container-fluid py-4 position-relative">

    <div class="bg-white p-3 rounded shadow-sm border mb-4">
        <div class="d-flex align-items-center justify-content-between flex-wrap gap-3">
            
            <div class="d-flex align-items-center gap-3">
                <button class="btn btn-primary d-flex align-items-center gap-2" (click)="toggleFilter()">
                    <i class='bx bx-filter-alt'></i> 
                    <span class="d-none d-sm-inline">Filtreler</span>
                </button>
                <h5 class="fw-bold m-0 text-dark d-none d-md-block">Eğitim Kataloğu</h5>
            </div>

            <div class="d-flex align-items-center gap-3 flex-grow-1 justify-content-end">
                <div class="search-box-wrapper position-relative" style="max-width: 300px; width: 100%;">
                    <input type="text" class="form-control ps-4" placeholder="Eğitim ara..." 
                           [(ngModel)]="filterRequest.searchText" (keyup.enter)="onSearch()">
                    <i class='bx bx-search position-absolute top-50 start-0 translate-middle-y ms-2 text-muted'></i>
                </div>

                <div class="d-none d-sm-block">
                    <select class="form-select form-select-sm border-0 shadow-sm bg-light fw-bold text-muted cursor-pointer" 
                            style="width: 160px;" (change)="onSortChange($event)">
                        <option *ngFor="let opt of sortOptions" [value]="opt.value" [selected]="opt.value === filterRequest.sortBy">
                            {{ opt.label }}
                        </option>
                    </select>
                </div>

                <div class="btn-group shadow-sm" role="group">
                    <button type="button" class="btn btn-outline-secondary px-3" 
                            [class.active]="viewMode === 'grid'" (click)="setViewMode('grid')" title="Izgara">
                        <i class='bx bx-grid-alt fs-5'></i>
                    </button>
                    <button type="button" class="btn btn-outline-secondary px-3" 
                            [class.active]="viewMode === 'list'" (click)="setViewMode('list')" title="Liste">
                        <i class='bx bx-list-ul fs-5'></i>
                    </button>
                </div>

                <span class="text-muted small text-nowrap d-none d-lg-block">
                    <strong>{{ totalRecords }}</strong> sonuç
                </span>
            </div>
        </div>

        <div class="d-flex align-items-center mt-3 pt-3 border-top" *ngIf="selectedTags.length > 0">
            <span class="small text-muted me-2 fw-bold text-nowrap">Seçilenler:</span>
            <div class="d-flex gap-2 overflow-auto flex-grow-1 align-items-center custom-scrollbar pb-1">
                <button class="btn btn-sm btn-outline-danger rounded-pill d-flex align-items-center gap-1 flex-shrink-0 px-2 py-1" 
                        style="font-size: 12px;" (click)="resetAllFilters()">
                    <i class='bx bx-trash'></i> Temizle
                </button>
                <div *ngFor="let tag of selectedTags" class="badge bg-light text-dark border d-flex align-items-center gap-2 py-2 px-3 rounded-pill flex-shrink-0">
                    <span class="fw-normal">{{ tag.label }}</span>
                    <i class='bx bx-x cursor-pointer text-muted hover-danger' style="font-size: 1.1rem;" (click)="removeTag(tag)"></i>
                </div>
            </div>
        </div>
    </div>

    <div class="row g-0">
        <div class="col-12 transition-all">
             
            <div *ngIf="isLoading" class="text-center py-5">
                <div class="spinner-border text-primary" role="status"></div>
                <p class="text-muted mt-2">Yükleniyor...</p>
            </div>

            <div *ngIf="isSuggestionMode && !isLoading" class="alert alert-warning d-flex align-items-center mb-4 border-0 shadow-sm" role="alert">
                <i class='bx bx-info-circle fs-4 me-2'></i>
                <div>
                    Aradığınız kriterlere uygun eğitim bulunamadı. Sizin için <strong>tüm eğitimleri</strong> listeledik.
                </div>
                <button type="button" class="btn-close ms-auto" (click)="isSuggestionMode = false" aria-label="Close"></button>
            </div>
            <div *ngIf="!isLoading && trainings.length === 0 && !isSuggestionMode" class="text-center py-5 bg-light rounded border border-dashed">
                <i class='bx bx-search-alt fs-1 text-muted mb-3'></i>
                <h5>Sonuç Bulunamadı</h5>
                <p class="text-muted">Aradığınız kriterlere uygun eğitim bulunmuyor.</p>
            </div>

            <div class="row g-4" *ngIf="!isLoading && viewMode === 'grid'">
                <div class="col-12 col-md-6 col-lg-4 col-xl-3" *ngFor="let item of trainings">
                    <div class="card h-100 course-recommend-card border-0 shadow-sm overflow-hidden position-relative">
                        
                        <div class="card-img-top position-relative" style="height: 180px;">
                            <img [src]="getCourseImage(item)" class="w-100 h-100 object-fit-cover" alt="Course">
                            <div class="position-absolute top-0 end-0 m-2" *ngIf="item.discountRate > 0">
                                <span class="badge bg-danger shadow-sm">%{{ item.discountRate }} İndirim</span>
                            </div>
                        </div>

                        <div class="card-body d-flex flex-column p-3">
                            <div class="d-flex justify-content-between align-items-center mb-2">
                                <span class="text-primary fw-bold text-uppercase" style="font-size: 0.75rem; letter-spacing: 0.5px;">
                                    {{ item.categoryName }}
                                </span>
                                <span class="badge bg-light text-muted border fw-normal" style="font-size: 0.7rem;">{{ item.levelName }}</span>
                            </div>

                            <h6 class="card-title fw-bold text-dark mb-2 text-truncate-2" style="min-height: 40px;">
                                {{ item.title }}
                            </h6>

                            <div class="d-flex align-items-center gap-2 mb-3">
                                <i class='bx bx-user text-muted'></i>
                                <span class="text-muted small text-truncate">{{ item.instructorName }}</span>
                            </div>

                            <div class="mb-3 d-flex align-items-center gap-1 small text-warning">
                                <span class="fw-bold text-dark me-1">{{ item.rating | number:'1.1-1' }}</span>
                                <i class='bx bxs-star' *ngFor="let s of [1,2,3,4,5]" [ngClass]="{'text-muted': s > item.rating}"></i>
                                <span class="text-muted ms-1">({{ item.reviewCount }})</span>
                            </div>

                            <div class="mt-auto pt-3 border-top d-flex align-items-center gap-2">
                                <h5 class="fw-bold text-primary mb-0">{{ item.currentAmount | currency:'TRY':'symbol-narrow':'1.0-0' }}</h5>
                                <span class="text-muted text-decoration-line-through small" *ngIf="item.discountRate > 0">
                                    {{ item.amount | currency:'TRY':'symbol-narrow':'1.0-0' }}
                                </span>
                            </div>
                        </div>

                        <div class="grid-hover-overlay p-3 d-flex flex-column justify-content-center">
                            
                            <h6 class="fw-bold text-dark mb-3 border-bottom pb-2 w-100 text-center">Neler Öğreneceksiniz?</h6>
                            
                            <div class="flex-grow-1 w-100 mb-3 overflow-hidden">
                                <ul class="list-unstyled small text-muted mb-0" *ngIf="item.whatYouWillLearn && item.whatYouWillLearn.length > 0; else noLearn">
                                    <li *ngFor="let learn of item.whatYouWillLearn.slice(0, 4)" class="d-flex align-items-start mb-2">
                                        <i class='bx bx-check text-success me-2 mt-1 flex-shrink-0'></i>
                                        <span class="line-clamp-2">{{ learn }}</span>
                                    </li>
                                </ul>
                                <ng-template #noLearn>
                                    <p class="small text-muted text-center my-4">Detaylı bilgi için inceleyin.</p>
                                </ng-template>
                            </div>

                            <div class="d-flex gap-2 mt-auto w-100">
                                <button class="btn btn-primary w-100 fw-bold btn-sm py-2" (click)="openCartModal(item)" *ngIf="!item.isAssigned">
                                    Sepete Ekle
                                </button>
                                <button class="btn btn-outline-danger btn-sm px-3" (click)="toggleWishlist(item)">
                                    <i class='bx' [class.bxs-heart]="item.isFavorite" [class.bx-heart]="!item.isFavorite"></i>
                                </button>
                            </div>
                            
                            <a [routerLink]="['/course-details', item.id]" class="text-center small text-decoration-none mt-2 text-muted">
                                Detayları İncele
                            </a>
                        </div>

                    </div>
                </div>
            </div>

            <div class="d-flex flex-column gap-3" *ngIf="!isLoading && viewMode === 'list'">
                <div *ngFor="let item of trainings" class="card course-list-row border shadow-sm">
                    <div class="d-flex align-items-stretch flex-column flex-md-row h-100">
                        
                        <div class="list-img-wrapper position-relative">
                            <a [routerLink]="['/course-details', item.id]" class="d-block w-100 h-100">
                                <img [src]="getCourseImage(item)" alt="Course" class="w-100 h-100 object-fit-cover">
                            </a>
                            <div class="position-absolute top-0 start-0 m-2" *ngIf="item.discountRate > 0">
                                <span class="badge bg-danger shadow-sm">%{{ item.discountRate }}</span>
                            </div>
                        </div>

                        <div class="list-middle-col position-relative overflow-hidden flex-grow-1 border-end-md">
                            
                            <div class="p-4 h-100 d-flex flex-column justify-content-center">
                                <div class="d-flex align-items-center gap-2 mb-2">
                                    <span class="badge bg-light text-primary border fw-normal">{{ item.categoryName }}</span>
                                    <span class="text-warning small d-flex align-items-center">
                                        <i class='bx bxs-star me-1'></i> {{ item.rating | number:'1.1-1' }}
                                    </span>
                                </div>

                                <h5 class="fw-bold mb-2">
                                    <a [routerLink]="['/course-details', item.id]" class="text-dark text-decoration-none hover-text-primary">
                                        {{ item.title }}
                                    </a>
                                </h5>

                                <p class="text-muted small mb-3 text-truncate-2" style="line-height: 1.6;">
                                    {{ item.description }}
                                </p>

                                <div class="d-flex align-items-center gap-4 text-muted small mt-auto">
                                    <div class="d-flex align-items-center gap-1">
                                        <img [src]="item.instructorImage || 'assets/images/defaults/user-dummy.png'" class="rounded-circle" width="20" height="20">
                                        <span class="fw-bold text-dark">{{ item.instructorName }}</span>
                                    </div>
                                    <span class="d-flex align-items-center gap-1"><i class='bx bx-book-open'></i> {{ item.lessonCount }} Ders</span>
                                    <span class="d-flex align-items-center gap-1"><i class='bx bx-time'></i> {{ item.totalMinutes }} dk</span>
                                </div>
                            </div>

                            <div class="list-hover-overlay p-4 d-flex flex-column justify-content-center">
                                <h6 class="fw-bold text-dark mb-3 border-bottom pb-2">Neler Öğreneceksiniz?</h6>
                                <ul class="list-unstyled small text-muted mb-0" *ngIf="item.whatYouWillLearn && item.whatYouWillLearn.length > 0; else noLearnList">
                                    <li *ngFor="let learn of item.whatYouWillLearn.slice(0, 3)" class="d-flex align-items-start mb-2">
                                        <i class='bx bx-check text-success me-2 mt-1 flex-shrink-0'></i>
                                        <span class="text-truncate-2">{{ learn }}</span>
                                    </li>
                                </ul>
                                <ng-template #noLearnList>
                                    <p class="small text-muted mb-0">Detaylı bilgi için inceleyin.</p>
                                </ng-template>
                                
                                <a [routerLink]="['/course-details', item.id]" class="small text-primary text-decoration-none fw-bold mt-auto">
                                    Tüm Detayları Gör <i class='bx bx-right-arrow-alt'></i>
                                </a>
                            </div>

                        </div>

                        <div class="list-action-col p-4 bg-light d-flex flex-column justify-content-center align-items-center align-items-md-end gap-3">
                            
                            <div class="text-center text-md-end w-100">
                                <h4 class="fw-bold text-primary mb-0">{{ item.currentAmount | currency:'TRY':'symbol-narrow':'1.0-0' }}</h4>
                                <small class="text-muted text-decoration-line-through" *ngIf="item.discountRate > 0">
                                    {{ item.amount | currency:'TRY':'symbol-narrow':'1.0-0' }}
                                </small>
                            </div>

                            <div class="d-flex flex-column gap-2 w-100">
                                <button class="btn btn-primary btn-sm fw-bold w-100 py-2" (click)="openCartModal(item)" *ngIf="!item.isAssigned">
                                    Sepete Ekle
                                </button>
                                <a [routerLink]="['/course-details', item.id]" class="btn btn-outline-secondary btn-sm fw-bold w-100 py-2">
                                    İncele
                                </a>
                            </div>

                            <button class="btn btn-link btn-sm text-muted p-0 text-decoration-none" (click)="toggleWishlist(item)">
                                <i class='bx' [class.bxs-heart]="item.isFavorite" [class.bx-heart]="!item.isFavorite"></i> 
                                <span class="ms-1">İstek Listesi</span>
                            </button>

                        </div>

                    </div>
                </div>
            </div>

            <div class="d-flex justify-content-center mt-5" *ngIf="totalRecords > filterRequest.pageSize">
                <nav aria-label="Page navigation">
                    <ul class="pagination pagination-sm shadow-sm">
                        <li class="page-item" [class.disabled]="filterRequest.pageIndex === 0">
                            <a class="page-link" href="javascript:void(0)" (click)="onPageChange(filterRequest.pageIndex - 1)">
                                <i class='bx bx-chevron-left'></i>
                            </a>
                        </li>
                        <li class="page-item" *ngFor="let p of pageArray" [class.active]="p === filterRequest.pageIndex">
                            <a class="page-link" href="javascript:void(0)" (click)="onPageChange(p)">{{ p + 1 }}</a>
                        </li>
                        <li class="page-item" [class.disabled]="filterRequest.pageIndex >= totalPages - 1">
                            <a class="page-link" href="javascript:void(0)" (click)="onPageChange(filterRequest.pageIndex + 1)">
                                <i class='bx bx-chevron-right'></i>
                            </a>
                        </li>
                    </ul>
                </nav>
            </div>

        </div>

        <div class="filter-sidebar bg-white border-start shadow-lg" [class.open]="isFilterOpen">
            
            <div class="filter-tab d-flex align-items-center justify-content-center shadow-sm" (click)="toggleFilter()">
                <i class='bx bx-filter-alt me-2 d-block d-md-none' style="transform: rotate(90deg);"></i>
                <span>FİLTRELE</span>
            </div>

            <div class="p-3 h-100 overflow-auto">
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <h6 class="fw-bold m-0">Filtrele</h6>
                    <button class="btn btn-sm btn-link text-danger text-decoration-none p-0" (click)="resetAllFilters()">Temizle</button>
                    <button class="btn btn-sm btn-light rounded-circle" (click)="toggleFilter()">
                        <i class='bx bx-x fs-5'></i>
                    </button>
                </div>

                <div class="card bg-light border-0 mb-4">
                    <div class="card-body p-2">
                        <div class="form-check form-switch d-flex align-items-center justify-content-between ps-0">
                            <label class="form-check-label small fw-bold text-primary mb-0 cursor-pointer" for="privateSwitch">
                                <i class='bx bxs-lock-alt me-1'></i> Kuruma Özel
                            </label>
                            <input class="form-check-input ms-0 cursor-pointer" type="checkbox" id="privateSwitch" 
                                   style="width: 40px; height: 20px;"
                                   (change)="onPrivateChange($event)" [checked]="filterRequest.onlyPrivate">
                        </div>
                    </div>
                </div>

                <div class="mb-4" *ngIf="allCategories.length > 0">
                    <h6 class="small fw-bold text-muted mb-2 text-uppercase ls-1">Kategoriler</h6>
                    <div class="mb-2 position-relative">
                        <input type="text" class="form-control form-control-sm" placeholder="Kategori ara..."
                               [(ngModel)]="categorySearchText" (keyup)="filterCategoriesOnUI()">
                        <i class='bx bx-search position-absolute top-50 end-0 translate-middle-y me-2 text-muted'></i>
                    </div>
                    <div class="filter-scroll-area custom-scrollbar" style="max-height: 300px; overflow-y: auto;">
                        <div *ngFor="let cat of filteredCategories" class="position-relative">
                            <div class="form-check mb-1" 
                                 [style.margin-left.px]="cat.level * 20"
                                 [class.mt-3]="cat.level === 0 && filteredCategories.indexOf(cat) !== 0"
                                 [class.mt-1]="cat.level > 0">
                                <div *ngIf="cat.level > 0" class="position-absolute"
                                     style="left: -12px; top: 0; bottom: 0; width: 1px; background-color: #e0e0e0;">
                                     <div style="position: absolute; top: 12px; left: 0; width: 10px; height: 1px; background-color: #e0e0e0;"></div>
                                </div>
                                <input class="form-check-input" type="checkbox" [id]="'cat'+cat.id" [value]="cat.id"
                                       [checked]="isCategorySelected(cat.id)"
                                       (change)="onCategoryChange(cat, $event)">
                                <label class="form-check-label small cursor-pointer" [for]="'cat'+cat.id" 
                                       [style.font-weight]="cat.level === 0 ? '700' : '400'"
                                       [class.text-dark]="cat.level === 0"
                                       [class.text-muted]="cat.level > 0">
                                    {{ cat.title }}
                                </label>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="mb-4">
                    <h6 class="small fw-bold text-muted mb-2 text-uppercase ls-1">Puan</h6>
                    <ul class="list-unstyled mb-0">
                        <li *ngFor="let rate of ratings" 
                            class="cursor-pointer mb-1 p-1 rounded transition-all" 
                            [class.bg-light-primary]="filterRequest.minRating === rate"
                            [class.border-start]="filterRequest.minRating === rate"
                            [style.border-left-width.px]="filterRequest.minRating === rate ? 3 : 0"
                            style="border-color: var(--primaryColor);"
                            (click)="onRatingChange(rate)">
                            <div class="d-flex align-items-center justify-content-between">
                                <div class="d-flex align-items-center">
                                    <span class="d-inline-block me-2">
                                        <i class='bx bxs-star text-warning' *ngFor="let s of [1,2,3,4,5]" 
                                           [ngClass]="{'bx-star text-muted': s > rate}"></i>
                                    </span>
                                    <span class="small text-muted">{{ rate }} & Üzeri</span>
                                </div>
                                <i *ngIf="filterRequest.minRating === rate" class='bx bx-check text-primary'></i>
                            </div>
                        </li>
                    </ul>
                </div>

                <div class="mb-4" *ngIf="levels.length > 0">
                    <h6 class="small fw-bold text-muted mb-2 text-uppercase ls-1">Seviye</h6>
                    <div *ngFor="let lvl of levels" class="form-check mb-1">
                        <input class="form-check-input" type="checkbox" [id]="'lvl'+lvl.id" [value]="lvl.id"
                               [checked]="filterRequest.levelIds?.includes(lvl.id)"
                               (change)="onFilterChange($event, 'level')">
                        <label class="form-check-label small" [for]="'lvl'+lvl.id">{{ lvl.title }}</label>
                    </div>
                </div>

                <div class="mb-4" *ngIf="languages.length > 0">
                    <h6 class="small fw-bold text-muted mb-2 text-uppercase ls-1">Dil</h6>
                    <div *ngFor="let lang of languages" class="form-check mb-1">
                        <input class="form-check-input" type="checkbox" [id]="'lang'+lang.id" [value]="lang.id"
                               [checked]="filterRequest.languageIds?.includes(lang.id)"
                               (change)="onFilterChange($event, 'language')">
                        <label class="form-check-label small" [for]="'lang'+lang.id">{{ lang.title }}</label>
                    </div>
                </div>
                
                <div class="mb-4" *ngIf="instructors.length > 0">
                    <h6 class="small fw-bold text-muted mb-2 text-uppercase ls-1">Eğitmenler</h6>
                    <div class="filter-scroll-area custom-scrollbar" style="max-height: 200px; overflow-y: auto;">
                        <div *ngFor="let inst of instructors" class="form-check mb-1">
                            <input class="form-check-input" type="checkbox" [id]="'inst'+inst.id" [value]="inst.id"
                                   [checked]="filterRequest.instructorIds?.includes(inst.id)"
                                   (change)="onFilterChange($event, 'instructor')">
                            <label class="form-check-label small" [for]="'inst'+inst.id">{{ inst.title }}</label>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <div class="toast-notification" [class.show]="showToast" [class.error]="toastType === 'error'">
        <i class='bx' [class.bx-check-circle]="toastType === 'success'" [class.bx-x-circle]="toastType === 'error'"></i>
        <span>{{ toastMessage }}</span>
    </div>

    <div class="modal fade" id="addToCartModal" tabindex="-1" #addToCartModal aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content border-0 shadow-lg">
                <div class="modal-header border-0 pb-0">
                    <h5 class="modal-title fw-bold">Sepete Ekle</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div *ngIf="selectedCourseForCart" class="d-flex gap-3 mb-4 align-items-center">
                        <img [src]="getCourseImage(selectedCourseForCart)" class="rounded border" style="width: 70px; height: 50px; object-fit: cover;">
                        <div>
                            <h6 class="fw-bold text-dark mb-0 line-clamp-1">{{ selectedCourseForCart.title }}</h6>
                            <small class="text-muted">{{ selectedCourseForCart.categoryName }}</small>
                        </div>
                    </div>
                    <h6 class="small fw-bold text-muted mb-2">Lisans Paketi Seçin</h6>
                    <div class="row g-2 mb-4">
                        <div class="col-12" *ngFor="let tier of pricingTiers">
                            <div class="border rounded p-3 cursor-pointer position-relative transition-all"
                                [class.border-primary]="selectedTier === tier"
                                [class.bg-light-primary]="selectedTier === tier"
                                (click)="selectTier(tier)">
                                <div *ngIf="selectedTier === tier" class="position-absolute top-50 end-0 translate-middle-y me-3 text-primary">
                                    <i class='bx bxs-check-circle fs-4'></i>
                                </div>
                                <div class="d-flex justify-content-between align-items-center" style="padding-right: 30px;">
                                    <div>
                                        <span class="d-block fw-bold text-dark" style="font-size: 0.9rem;">
                                            {{ tier.minLicenceCount }} <span *ngIf="tier.maxLicenceCount < 9999">- {{ tier.maxLicenceCount }}</span><span *ngIf="tier.maxLicenceCount >= 9999">+</span> Kişi Arası
                                        </span>
                                        <small class="text-muted d-block" *ngIf="tier.discountRate > 0" style="font-size: 0.75rem;">
                                            <span class="badge bg-success bg-opacity-10 text-success border border-success border-opacity-25">
                                                %{{ tier.discountRate }} Toptan İndirim
                                            </span>
                                        </small>
                                    </div>
                                    <div class="text-end">
                                        <div class="fw-bold fs-5 text-primary">
                                            {{ (tier.amount - (tier.amount * tier.discountRate / 100)) | currency:'TRY':'symbol-narrow':'1.0-0' }}
                                        </div>
                                        <small class="text-muted" style="font-size: 10px;">/Kişi Başı</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div *ngIf="pricingTiers.length === 0" class="col-12">
                            <div class="alert alert-warning small mb-0">
                                <i class='bx bx-error-circle me-1'></i> Standart fiyatlandırma geçerlidir.
                            </div>
                        </div>
                    </div>
                    <div class="bg-light p-3 rounded border">
                        <div class="d-flex align-items-center justify-content-between">
                            <div>
                                <label class="small fw-bold text-muted d-block mb-1">Kişi Sayısı</label>
                                <div class="input-group input-group-sm" style="width: 120px;">
                                    <button class="btn btn-white border" (click)="decreaseCount()"><i class='bx bx-minus'></i></button>
                                    <input type="number" class="form-control text-center fw-bold bg-white" [value]="licenseCount" (input)="onCountChange($event)" min="1">
                                    <button class="btn btn-white border" (click)="increaseCount()"><i class='bx bx-plus'></i></button>
                                </div>
                            </div>
                            <div class="text-end">
                                <small class="text-muted d-block mb-1">Tahmini Toplam</small>
                                <span class="fw-bold text-dark fs-4">{{ modalTotalPrice | currency:'TRY':'symbol-narrow':'1.0-0' }}</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer border-0 pt-0">
                    <button type="button" class="btn btn-light fw-bold" data-bs-dismiss="modal">İptal</button>
                    <button type="button" class="btn btn-primary fw-bold px-4 d-flex align-items-center gap-2" (click)="confirmAddToCart()" [disabled]="isAddingToCart">
                        <span *ngIf="isAddingToCart" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                        <span>Sepete Ekle</span>
                    </button>
                </div>
            </div>
         </div>
    </div>

</div>