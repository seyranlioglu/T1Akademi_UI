<div class="sidebar-container h-100 d-flex flex-column bg-white border-end">
    
    <div class="sidebar-header p-3 border-bottom bg-light">
        <h6 class="text-uppercase text-muted small fw-bold m-0">Sınav İçeriği</h6>
    </div>

    <div class="questions-list flex-grow-1 overflow-auto p-2">
        <div *ngFor="let topic of topicMap" class="topic-group mb-4">
            <div class="topic-title px-2 py-1 mb-2">
                <small class="fw-bold text-secondary text-uppercase">{{ topic.title }}</small>
            </div>
            
            <div class="list-group list-group-flush">
                <button *ngFor="let q of topic.questions" 
                        class="list-group-item list-group-item-action d-flex align-items-center gap-2 px-2 py-2 border-0 rounded"
                        [class.active-question]="q.seq === currentSeq"
                        [class.answered-question]="q.isAnswered"
                        (click)="onSelect(q.seq)">
                    
                    <div class="status-icon flex-shrink-0 d-flex align-items-center justify-content-center" 
                         [ngClass]="{'bg-success text-white': q.isAnswered, 'bg-light text-muted': !q.isAnswered && q.seq !== currentSeq, 'bg-primary text-white': q.seq === currentSeq}">
                        <i class='bx' [ngClass]="q.isAnswered ? 'bx-check' : (q.seq === currentSeq ? 'bx-radio-circle-marked' : 'bx-radio-circle')"></i>
                    </div>

                    <div class="question-info overflow-hidden">
                        <span class="fw-medium d-block small">Soru {{ q.seq }}</span>
                        </div>
                </button>
            </div>
        </div>
    </div>

    <div class="sidebar-footer p-3 border-top bg-light small text-muted">
        <div class="d-flex align-items-center gap-3 mb-2">
            <div class="d-flex align-items-center gap-1"><i class='bx bxs-circle text-primary'></i> Şu anki</div>
            <div class="d-flex align-items-center gap-1"><i class='bx bxs-circle text-success'></i> Cevaplanmış</div>
        </div>
        <div class="d-flex align-items-center gap-1"><i class='bx bxs-circle text-secondary opacity-50'></i> Boş</div>
    </div>
</div>